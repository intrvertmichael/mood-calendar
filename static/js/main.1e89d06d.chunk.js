(this["webpackJsonpmood-calendar"]=this["webpackJsonpmood-calendar"]||[]).push([[0],{203:function(e,t,a){e.exports=a(401)},208:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(77),c=a.n(r),s=(a(208),a(5)),l=a(26),u=a.n(l),i=function(e){return{type:"SET_CURRENT_MONTH",month:e}},d=Object(s.b)((function(e){return{name:e.firebase.auth.displayName,total:e.current.total}}),(function(e){return{logOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){console.log("Signed Out...")}))}))}}}))((function(e){var t=e.total;1===e.total?t="Bad":2===e.total?t="Okay":3===e.total?t="Good":4===e.total&&(t="Really Good");var a=e.total?"You've been mostly ".concat(t," this month"):"".concat(e.name,"'s Mood Calendar");return o.a.createElement("div",{className:"title"},o.a.createElement("div",null,o.a.createElement("p",null,a),o.a.createElement("button",{className:"logout-btn",onClick:e.logOut}," Log Out ")),o.a.createElement("div",{className:"year"},o.a.createElement("p",null,e.year)))})),m=Object(s.b)(null,(function(e){return{setCurrentMonth:function(t){return e(i(t))}}}))((function(e){if(e.currentMonth.length){var t=e.yearObj?Object.entries(e.yearObj):null;return o.a.createElement("div",{className:"month"},o.a.createElement("h2",null,t.length>1?o.a.createElement("select",{className:"months",defaultValue:"DEFAULT",onChange:function(){e.setCurrentMonth(document.querySelector(".months").value)}},t.map((function(t){var a=t[1];return a.num!==e.currentMonth.num?o.a.createElement("option",{key:a.num,value:a.num},a.name):a.num===e.currentMonth.num?o.a.createElement("option",{key:e.currentMonth.num,value:"DEFAULT"},e.currentMonth.name):""}))):o.a.createElement("p",null,e.currentMonth.name)))}return o.a.createElement("div",{className:"month"}," No month ")})),h=function(e,t){for(var a,n=Object.keys(e),o=0;o<n.length;o++)n[o]==="day".concat(t)&&(a=e[n[o]].mood);return a},y=Object(s.b)(null,(function(e){return{setCurrentDay:function(t){return e(function(e){return{type:"SET_CURRENT_DAY",day:e}}(t))}}}))((function(e){var t=e.calendarPosition,a=e.dayOfMonth,n=e.today,r=e.month,c=r.starts,s=r.days,l="",u=(new Date).getMonth(),i=r.num===u;if(i&&(l+=t===n+c-1?"today ":""),t>=c&&t<r.length+c){var d=h(s,a);return l+="mood".concat(d),o.a.createElement("div",{className:"day ".concat(l),key:t,onClick:function(){(a<=n||!i)&&(e.setCurrentDay(a),document.querySelector(".dayClicked").classList.remove("hide"))}}," ",a," ")}return o.a.createElement("div",{className:"notADay ".concat(l),key:t},"  ")})),f=function(e){for(var t=[],a=e.month.starts>4&&e.month.length>29?42:35,n=["S","M","T","W","Th","F","S"],r=0;r<=6;r++)t.push(o.a.createElement("div",{key:"day".concat(r),className:"weekday"}," ",n[r]," "));for(var c=0;c<a;c++)t.push(o.a.createElement(y,{key:c,today:e.today,month:e.month,calendarPosition:c,dayOfMonth:c-e.month.starts+1}));return t},g=a(202),b=function(){document.querySelector(".dayClicked").classList.add("hide")},v=function(e,t){e.setMood(t),e.updateFirestore();var a=document.querySelector(".ClearDayResponse");a.classList.add("mood".concat(t)),a.classList.remove("hide")},p=function(e){return 1===e?"BAD":2===e?"OKAY":3===e?"GOOD":4===e?"REALLY GOOD":void 0},E=function(e,t,a,n,o){var r="",c="";return e&&!t?(r="On ".concat(a," ").concat(n," you were feeling ").concat(o),c="If not, how were you really feeling?"):e||t?e&&t?(r="Seems like you're feeling ".concat(o," today"),c="Did you change your mind ?"):!e&&t?(r="Seems like you don't have a mood for today",c="Would you like to add one ?"):(r="",c=""):(r="You don't have a mood for ".concat(a," ").concat(n),c="How were you feeling? "),[r,c]},O=Object(s.b)((function(e){return{clickedMonth:e.current.month,clickedDay:e.current.day}}),(function(e){return{clearDay:function(){return e((function(e,t){var a=t().current.month;e({type:"CLEAR_DAY",month:a,day:t().current.day}),e({type:"SET_CURRENT_AVG",days:t().calendar.year2020["month".concat(a)].days})}))},setMood:function(t){return e(function(e){return function(t,a){var n=a().current.month;t({type:"SET_MOOD",month:n,day:a().current.day,mood:e}),t({type:"SET_CURRENT_AVG",days:a().calendar.year2020["month".concat(n)].days})}}(t))},setMessage:function(t){return e(function(e){return function(t,a){t({type:"SET_MESSAGE",month:a().current.month,day:a().current.day,message:e})}}(t))},updateFirestore:function(){return e((function(e,t,a){var n=(0,a.getFirestore)(),o=t().firebase.auth.uid;n.collection("userCalendars").doc(o).set({stored:t().calendar,displayName:t().firebase.auth.displayName,email:t().firebase.auth.email,lastUpdateAt:new Date}).then((function(){})).catch((function(e){console.log("Not able to update Firestore"),console.log(e)}))}))}}}))((function(e){var t=e.month,a=e.today,n=e.clickedDay;window.onclick=function(e){e.target===document.querySelector(".dayClicked")&&b()};var r,c=a===n,s=!1,l="",u="";t.days["day".concat(n)]&&(s=!0,l=p(t.days["day".concat(n)].mood),u="big-circle mood".concat(t.days["day".concat(n)].mood),r=t.days["day".concat(n)].message?t.days["day".concat(n)].message:"Why? ");var i=E(s,c,t.name,n,l),d=Object(g.a)(i,2),m=d[0],h=d[1];return o.a.createElement("div",{className:"dayClicked hide"},o.a.createElement("div",{className:"dayInfo"},o.a.createElement("span",{className:"close",onClick:b}," x "),o.a.createElement("div",{className:"info-window"},o.a.createElement("p",null," ",m," "),o.a.createElement("div",{className:"".concat(u),onClick:function(){var t=prompt("Why were you feeling that way?");e.setMessage(t),e.updateFirestore()}}," ",r," ")),o.a.createElement("div",{className:"rating"},o.a.createElement("p",null," ",h),o.a.createElement("div",{className:"rating-circles"},o.a.createElement("div",{className:"circle-container"},o.a.createElement("div",{className:"circle mood1",onClick:function(){return v(e,1)}}),o.a.createElement("p",null,"Bad")),o.a.createElement("div",{className:"circle-container"},o.a.createElement("div",{className:"circle mood2",onClick:function(){return v(e,2)}}),o.a.createElement("p",null,"Okay")),o.a.createElement("div",{className:"circle-container"},o.a.createElement("div",{className:"circle mood3",onClick:function(){return v(e,3)}}),o.a.createElement("p",null,"GOOD")),o.a.createElement("div",{className:"circle-container"},o.a.createElement("div",{className:"circle mood4",onClick:function(){return v(e,4)}}),o.a.createElement("p",null,"REALLY GOOD"))),s?o.a.createElement("button",{className:"clearDay",onClick:function(){e.clearDay(),e.updateFirestore()}}," Clear Day "):"")))})),w=function(e){document.querySelector(".ClearDayResponse").classList.add("hide"),document.querySelector(".ClearDayResponse").classList.remove("mood".concat(e))},k=Object(s.b)((function(e){return{calendar:e.calendar.year2020,month:e.current.month,day:e.current.day}}))((function(e){var t=e.calendar["month".concat(e.month)].days["day".concat(e.day)]?e.calendar["month".concat(e.month)].days["day".concat(e.day)].mood:null,a=[{quote:"You may encounter many defeats, but you must not be defeated. In fact, it may be necessary to encounter the defeats, so you can know who you are, what you can rise from, how you can still come out of it.",author:"Maya Angelou"},{quote:"You don't develop courage by being happy in your relationships everyday. You develop it by surviving difficult times and challenging adversity.",author:"Epicurus"},{quote:"Most of the important things in the world have been accomplished by people who have kept on trying when there seemed to be no hope at all.",author:"Dale Carnegie"},{quote:"Our greatest glory is not in never falling, but in rising every time we fall.",author:"Confucius"},{quote:"A person who never made a mistake never tried anything new.",author:"Albert Einstein"}],n=[{quote:"Most of the important things in the world have been accomplished by people who have kept on trying when there seemed to be no hope at all.",author:"Dale Carnegie"},{quote:"Experiencing sadness and anger can make you feel more creative, and by being creative, you can get beyond your pain or negativity.",author:"Yoko Ono"},{quote:"With the new day comes new strength and new thoughts.",author:"Eleanor Roosevelt"},{quote:"We all have self-doubt. You don't deny it, but you also don't capitulate to it. You embrace it.",author:"Kobe Bryant"},{quote:"Sometimes when you innovate, you make mistakes. It is best to admit them quickly, and get on with improving your other innovations.",author:"Steve Jobs"},{quote:"Be content with what you have; rejoice in the way things are. When you realize there is nothing lacking, the whole world belongs to you.",author:"Lao Tzu"}],r=[{quote:"Do you want to know who you are? Don't ask. Act! Action will delineate and define you.",author:"Thomas Jefferson"},{quote:"The pessimist sees difficulty in every opportunity. The optimist sees the opportunity in every difficulty.",author:"Winston Churchill"},{quote:"Kindness in words creates confidence. Kindness in thinking creates profoundness. Kindness in giving creates love.",author:"Lao Tzu"},{quote:"Every man's life ends the same way. It is only the details of how he lived and how he died that distinguish one man from another.",author:"Ernest Hemingway"},{quote:"I think that's the single best piece of advice: constantly think about how you could be doing things better and questioning yourself.",author:"Elon Musk"}],c=[{quote:"The most important thing is to try and inspire people so that they can be great in whatever they want to do.",author:"Kobe Bryant"},{quote:"Thousands of candles can be lit from a single candle, and the life of the candle will not be shortened. Happiness never decreases by being shared.",author:"Buddha"},{quote:"However many holy words you read, however many you speak, what good will they do you if you do not act on upon them?",author:"Buddha"},{quote:"Only those who have learned the power of sincere and selfless contribution experience life's deepest joy: true fulfillment",author:"Tony Robbins"}],s=[a[Math.floor(Math.random()*a.length)],n[Math.floor(Math.random()*n.length)],r[Math.floor(Math.random()*r.length)],c[Math.floor(Math.random()*c.length)]],l=s[t-1]?s[t-1].quote:"",u=s[t-1]?s[t-1].author:"";return o.a.createElement("div",{className:"ClearDayResponse hide",onClick:function(){return w(t)}},o.a.createElement("div",{className:"ClearDayResponseBox"},o.a.createElement("p",{className:"closeResponse",onClick:function(){return w(t)}},"X"),o.a.createElement("p",{className:"quote"},l),o.a.createElement("p",{className:"author"},"- ",u)))})),N=(a(213),a(214),a(215),a(216),a(27)),C=Object(s.b)((function(e){return{fullState:e,calendar:e.calendar,calendarYear:e.calendar.year2020,clickedYear:e.current.year,clickedMonth:e.current.month,clickedDay:e.current.day,total:e.current.total,userId:e.firebase.auth.uid,userCalendars:e.firestore.data.userCalendars}}),(function(e){return{addMonth:function(t,a){return e(function(e,t){return{type:"ADD_MONTH",monthName:e,month:t}}(t,a))},setCurrentMonth:function(t){return e(i(t))},syncReduxFirestore:function(t){return e(function(e){console.log("inside sync");var t=e.year2020;return function(e,a){var n=a().calendar.year2020;u.a.isEqual(n,t)||e({type:"SYNC_REDUX_FIREBASE_CALENDARS",stored:t})}}(t))}}}))((function(e){var t,a,r=new Date,c=r.getDate();if(e.clickedMonth)t=e.clickedMonth,a=e.clickedYear;else{if(t=r.getMonth(),a=r.getFullYear(),!e.calendarYear["month".concat(t)]){console.log("Month".concat(t," doesn't exist...")),e.addMonth("month".concat(t),[{num:0,name:"January",length:31,starts:3,days:{}},{num:1,name:"February",length:28,starts:6,days:{}},{num:2,name:"March",length:31,starts:0,days:{}},{num:3,name:"April",length:30,starts:3,days:{}},{num:4,name:"May",length:31,starts:5,days:{}},{num:5,name:"June",length:30,starts:1,days:{}},{num:6,name:"July",length:31,starts:3,days:{}},{num:7,name:"August",length:31,starts:6,days:{}},{num:8,name:"September",length:30,starts:2,days:{}},{num:9,name:"October",length:31,starts:4,days:{}},{num:10,name:"November",length:30,starts:0,days:{}},{num:11,name:"December",length:31,starts:2,days:{}}][t]),console.log("Month".concat(t," was created..."))}e.setCurrentMonth(t)}var s=e.calendarYear["month".concat(t)]?e.calendarYear["month".concat(t)]:{num:null,name:null,length:null,starts:null,days:[]};return Object(N.useFirestoreConnect)("userCalendars"),Object(n.useEffect)((function(){var t=null;if(e.userCalendars&&e.userCalendars[e.userId]&&e.userCalendars[e.userId].stored&&(t=e.userCalendars[e.userId].stored),t){var a=u.a.isEqual(t.year2020,e.calendarYear);t&&!a&&e.syncReduxFirestore(t)}})),o.a.createElement("div",{className:"calender-container"},o.a.createElement(d,{year:a}),o.a.createElement(m,{yearName:e.clickedYear,yearObj:e.calendarYear,currentMonth:e.calendarMonth?e.calendarMonth:s}),o.a.createElement("div",{className:"calender"},o.a.createElement(f,{month:s,today:c})),o.a.createElement(O,{month:s,today:c}),o.a.createElement(k,null))})),j=a(200),M=a.n(j),D=function(){var e=Object(s.c)();return o.a.createElement("div",{className:"intro"},o.a.createElement("h1",null,"Mood Calendar"),o.a.createElement("p",null,"Keep track of your mood."),o.a.createElement("div",{className:"gbutton"},o.a.createElement(M.a,{type:"dark",onClick:function(){return e((function(e,t,a){(0,a.getFirebase)().login({provider:"google",type:"popup"}).then((function(e){console.log("Logged in...")})).catch((function(){console.log("Log in failed")}))}))}})))},R=Object(s.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth;return o.a.createElement("div",{className:"container"},t.uid?o.a.createElement(C,null):o.a.createElement(D,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(16),A=a(39),T=a(7),_=a(3),q={year2020:{}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SYNC_REDUX_FIREBASE_CALENDARS":return Object(_.a)({},e,Object(T.a)({},"year2020",Object(_.a)({},e.year2020,{},t.stored)));case"ADD_MONTH":return Object(_.a)({},e,Object(T.a)({},"year2020",Object(_.a)({},e.year2020,Object(T.a)({},t.monthName,t.month))));case"ADD_DAY":return Object(_.a)({},e,Object(T.a)({},"year2020",Object(_.a)({},e.year2020,Object(T.a)({},"month".concat(t.month),Object(_.a)({},e.year2020["month".concat(t.month)],{days:Object(_.a)({},e.year2020["month".concat(t.month)].days,Object(T.a)({},t.dayName,t.day))})))));case"SET_MOOD":return Object(_.a)({},e,Object(T.a)({},"year2020",Object(_.a)({},e.year2020,Object(T.a)({},"month".concat(t.month),Object(_.a)({},e.year2020["month".concat(t.month)],{days:Object(_.a)({},e.year2020["month".concat(t.month)].days,Object(T.a)({},"day".concat(t.day),Object(_.a)({},e.year2020["month".concat(t.month)].days["day".concat(t.day)],{mood:t.mood})))})))));case"SET_MESSAGE":return Object(_.a)({},e,Object(T.a)({},"year2020",Object(_.a)({},e.year2020,Object(T.a)({},"month".concat(t.month),Object(_.a)({},e.year2020["month".concat(t.month)],{days:Object(_.a)({},e.year2020["month".concat(t.month)].days,Object(T.a)({},"day".concat(t.day),Object(_.a)({},e.year2020["month".concat(t.month)].days["day".concat(t.day)],{message:t.message})))})))));case"CLEAR_DAY":var a=u.a.cloneDeep(e);return u.a.unset(a,"year2020.month".concat(t.month,".days.day").concat(t.day)),a;default:return e}},F={year:2020,month:null,day:null,total:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT":return Object(_.a)({},e,{year:t.year,month:t.month,day:t.day,mood:t.mood,message:t.message});case"SET_CURRENT_MONTH":return Object(_.a)({},e,{month:t.month});case"SET_CURRENT_DAY":return Object(_.a)({},e,{day:t.day});case"SET_CURRENT_AVG":console.log("inside set current avg");var a=0,n=t.days,o=Object.entries(n);if(o.length>2){for(var r=0;r<o.length;r++)a+=o[r][1].mood;a=Math.round(a/o.length)}return Object(_.a)({},e,{total:a});default:return e}},I=Object(S.c)({current:L,calendar:Y,firestore:A.firestoreReducer,firebase:N.firebaseReducer}),U=a(28),B=a.n(U);a(198),a(399);B.a.initializeApp({apiKey:"AIzaSyAL5D8qMwLeApe00CIkXjT8RTKetz1l8uM",authDomain:"mood-calendar-91494.firebaseapp.com",databaseURL:"https://mood-calendar-91494.firebaseio.com",projectId:"mood-calendar-91494",storageBucket:"mood-calendar-91494.appspot.com",messagingSenderId:"1040700958396",appId:"1:1040700958396:web:4f2829334b1152a736d2b9"}),B.a.firestore();var x=B.a,G=a(201),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,K=Object(S.e)(I,W(Object(S.a)(G.a.withExtraArgument({getFirestore:A.getFirestore,getFirebase:N.getFirebase})),Object(A.reduxFirestore)(B.a,x))),H={firebase:B.a,config:x,dispatch:K.dispatch,createFirestoreInstance:A.createFirestoreInstance};c.a.render(o.a.createElement(s.a,{store:K},o.a.createElement(N.ReactReduxFirebaseProvider,H,o.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.1e89d06d.chunk.js.map